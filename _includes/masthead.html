<!-- Captures the string inside of the opening and closing tags and assigns it to a variable logo_path. -->
{% capture logo_path %}{{ site.logo }}{% endcapture %}

<div class="masthead">
    <div class="masthead__inner-wrap">
        <div class="masthead__menu">
            <nav id="site-nav" class="greedy-nav">
                {% comment %} <P style="color:white">{{page.layout}} {{page.lang}}</P> {% endcomment %}

                <!-- 網站logo -->
                {% unless logo_path == empty %}
                <a class="site-logo" href="{{ '/' | relative_url }}"><img src="{{ logo_path | relative_url }}" alt="{{ site.masthead_title | default: site.title }}"></a>
                {% endunless %}

                <!-- 網站標題 -->
                <!-- <a class="site-title" href="{{ '/' | relative_url }}">
                    {{ site.masthead_title | default: site.title }}
                    {% if site.subtitle %}<span class="site-subtitle">{{ site.subtitle }}</span>{% endif %}
                  </a> -->

                <!-- 目錄 header有哪些頁面 -->
                <ul class="visible-links">
                    {%- for link in site.data.navigation.main -%}
                    <li class="masthead__menu-item">
                        <a href="{{ link.url | relative_url }}" {% if link.description %} title="{{ link.description }}" {% endif %}>{{ link.title }}</a>
                    </li>
                    {%- endfor -%}
                    
                    {% comment %} difference language {% endcomment %}
                    {%if page.lang != null%}
                        {%for collection in site.collections%}
                        {%assign posts = collection.docs | where:"lang-ref", page.lang-ref | sort: 'lang'%}
                        {%for post in posts%}
                            <li><a href="{{ site.base-url }}{{ post.url }}" class="{{ post.lang }}" title="View in {{post.lang}}">{{ post.lang }}</a></li>
                        {%endfor%}
                        {%endfor%}
                    {%endif%}
                    {% comment %} end language {% endcomment %}

                </ul>

                <!-- Search 圖案 -->
                {% if site.search == true %}
                <button class="search__toggle" type="button">
                        <span class="visually-hidden">{{ site.data.ui-text[site.locale].search_label | default: "Toggle search" }}</span>
                        <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
                          <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
                        </svg>
                </button> {% endif %}


                <!-- 這個有沒有好像沒差 -->
                <button class="greedy-nav__toggle hidden" type="button">
                  <span class="visually-hidden">{{ site.data.ui-text[site.locale].menu_label | default: "Toggle menu" }}</span>
                  <div class="navicon"></div>
                </button>

                <ul class="hidden-links hidden">
                </ul>

                {% comment %} <button class="lang-switcher-toggle" type="button">
                <span class="visually-hidden">{{ site.data.strings.switch_lang | default: "Switch language" }}</span>
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.65 15.67c.14-.36.05-.77-.23-1.05l-2.09-2.06.03-.03c1.74-1.94 2.98-4.17 3.71-6.53h1.94c.54 0 .99-.45.99-.99v-.02c0-.54-.45-.99-.99-.99H10V3c0-.55-.45-1-1-1s-1 .45-1 1v1H1.99c-.54 0-.99.45-.99.99 0 .55.45.99.99.99h10.18C11.5 7.92 10.44 9.75 9 11.35c-.81-.89-1.49-1.86-2.06-2.88-.16-.29-.45-.47-.78-.47-.69 0-1.13.75-.79 1.35.63 1.13 1.4 2.21 2.3 3.21L3.3 16.87c-.4.39-.4 1.03 0 1.42.39.39 1.02.39 1.42 0L9 14l2.02 2.02c.51.51 1.38.32 1.63-.35zM17.5 10c-.6 0-1.14.37-1.35.94l-3.67 9.8c-.24.61.22 1.26.87 1.26.39 0 .74-.24.88-.61l.89-2.39h4.75l.9 2.39c.14.36.49.61.88.61.65 0 1.11-.65.88-1.26l-3.67-9.8c-.22-.57-.76-.94-1.36-.94zm-1.62 7l1.62-4.33L19.12 17h-3.24z"/>
                </svg>
                </button>
                {% include lang-switcher.html %} {% endcomment %}

            </nav>
        </div>
    </div>
</div>